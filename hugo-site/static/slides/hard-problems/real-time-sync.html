<section style="display: flex; flex-direction: column; height: 100vh;">
  <h2 style="flex-shrink: 0; margin-bottom: 0.3em;">Real-Time Sync</h2>

  <style>
    .realtime-content {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 1.5em;
      min-height: 0;
    }
    .realtime-diagram {
      flex: 1 1 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 200px;
    }
    .realtime-diagram img {
      max-height: calc(100vh - 180px);
      max-width: 100%;
      object-fit: contain;
    }
    .realtime-text {
      flex: 1 1 45%;
      min-width: 280px;
    }
    .realtime-text ul {
      font-size: 1.05em;
      line-height: 1.7;
    }
    @media (max-width: 1400px) {
      .realtime-content {
        flex-direction: column;
        justify-content: center;
      }
      .realtime-diagram {
        flex: 0 0 auto;
        width: 100%;
        max-height: 45vh;
      }
      .realtime-diagram img {
        max-height: 40vh;
      }
      .realtime-text {
        flex: 1;
        width: 100%;
      }
      .realtime-text ul {
        font-size: 0.95em;
      }
    }
  </style>

  <div class="realtime-content">
    <div class="realtime-diagram">
      <img src="/slides/hard-problems/real-time-sync.svg" alt="Commutative Sync">
    </div>
    <div class="realtime-text">
      <ul>
        <li><strong>Problem:</strong> How do peers stay consistent without coordination?</li>
        <li><strong>Solution:</strong> Commutative operations</li>
        <li>A + B = B + A (order doesn't matter)</li>
        <li>Peers exchange <span style="color: #43e97b;">deltas</span>, not full state</li>
        <li><strong>Result:</strong> Eventual consistency, real-time updates</li>
      </ul>
    </div>
  </div>

  <aside class="notes">
    How do you keep data consistent when there's no central authority?
    The key insight: use operations that commute - where order doesn't matter.
    If Peer A adds "Hello" then "World", and Peer B adds "World" then "Hello",
    they end up in the same state.
    And we only send the changes (deltas), not the whole state - so it's efficient.
    This gives us real-time sync without the coordination overhead.
  </aside>
</section>
